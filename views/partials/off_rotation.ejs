<!-- Header  -->
<h4>Off Rotation</h4>
<hr>


<!-- Blankslate  -->
<div v-if="state.shifts.off_rotation.length == 0" class="bg-light rounded p-3">
    <% if (user.role == 'admin') { %> 
        Use the <strong>Off Rotation</strong> button to move any physician Off Rotation.
    <% } %>

    <% if (user.role == 'user') { %> 
        No doctors <strong>Off Rotation</strong>.
    <% } %>
</div>


<!-- Boxes  -->
<div class="Box Box--condensed mb-2" v-for="(shift, index) in state.shifts.off_rotation">
    <div class="Box-row Box-row--gray p-2">
        <div class="d-flex flex-items-center">
            <div class="flex-auto">
                <p class="h3 color-fg-muted">{{ shift.doctor.first }} {{ shift.doctor.last }}</p>
                <p class="text-small color-fg-subtle">{{ shift.shift_details.name }}</p>
            </div>
            <% if (user.role == 'admin') { %> 
            <div class="BtnGroup">
                <button class="btn btn-sm btn-outline BtnGroup-item" @click="rejoin(shift.id)">On Rotation</button>
                <button class="btn btn-sm btn-outline BtnGroup-item" @click="goOffRotation(shift.id, 3, 'off')">Fast Track</button>
            </div>
            <% } %>  
            
        </div> 
        <div class="d-none d-sm-block">
            <%- include('patient_types_counts') %>
        </div>
    </div>
    <% if (user.role == 'admin') { %> 
        <%- include('admin_pt_types_buttons') %>
    <% } %>
</div>
